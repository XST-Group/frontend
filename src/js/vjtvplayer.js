var browser={versions:function(){var E=navigator.userAgent,A=navigator.appVersion;var D=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod","Mobile");var B=false;for(var C=0;C<D.length;C++){if(E.indexOf(D[C])!=-1){B=true;break}}return{trident:E.indexOf("Trident")>-1,presto:E.indexOf("Presto")>-1,webKit:E.indexOf("AppleWebKit")>-1,gecko:E.indexOf("Gecko")>-1&&E.indexOf("KHTML")==-1,mobile:B,ios:!!E.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:E.indexOf("Android")>-1||E.indexOf("Linux")>-1,iPhone:E.indexOf("iPhone")>-1||E.indexOf("Mac")>-1,iPad:E.indexOf("iPad")>-1,webApp:E.indexOf("Safari")==-1,html5:typeof(Worker)!=="undefined"||!!document.createElement("video").canPlayType}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};var Player=function(A){this.id=A.id||"VJTVPlayer";this.width=A.width||"100%";this.height=A.height||"100%";this.swfUrl=A.swfUrl||"VJTVPlayer.swf";this.flurl=A.vars||{};this.codebase=A.codebase||"";this.mode=A.mode||"vod";this.player=A.player||"auto";this.mime=A.mime||"flv";this.generateflashobj=function(B,F,D){var E="";E+="<object ";for(var C in B){E+=C+'="'+B[C]+'" '}E+=">";for(var C in F){E+='<param name="'+C+'" value="'+F[C]+'" /> '}E+="</object>";return E},this.generatep2pobj=function(B,E){var D="";D+="<object ";for(var C in B){D+=C+'="'+B[C]+'" '}D+=">";for(var C in E){D+='<param name="'+C+'" value="'+E[C]+'" /> '}D+="</object>";return D},this.generatehtml5obj=function(B,E){var D="";D+="<video ";for(var C in B){D+=C+'="'+B[C]+'" '}D+=">";for(var C in E){D+='<source type="'+C+'" src="'+E[C]+'" /> '}D+="</video>";return D},this.showflashplayer=function(){var B=new Object();var E=new Object();var C=new Object();B["width"]=this.width;B["height"]=this.height;B["id"]=this.id;if(browser.versions.trident){B["classid"]="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";E["movie"]=this.swfUrl;C["src"]=this.swfUrl}B["type"]="application/x-shockwave-flash";B["data"]=this.swfUrl;E["allowScriptAccess"]="always";E["allowFullScreen"]="true";E["quality"]="high";E["devicefont"]="false";E["play"]="true";E["loop"]="true";E["wmode"]="window";E["scale"]="showall";C["quality"]="high";C["allowScriptAccess"]="always";C["allowFullScreen"]="true";C["devicefont"]="false";C["play"]="true";C["loop"]="true";C["wmode"]="window";C["scale"]="showall";C["type"]="application/x-shockwave-flash";C["pluginspage"]="http://www.macromedia.com/go/getflashplayer";C["width"]=this.width;C["height"]=this.height;var D;if(this.flurl&&typeof this.flurl==="object"){for(var F in this.flurl){if(F==="http"){continue}if(typeof D!="undefined"){D+="&"+F+"="+this.flurl[F]}else{D=F+"="+this.flurl[F]}}}E["flashvars"]=D;C["flashvars"]=D;return this.generateflashobj(B,E,C)},this.showp2player=function(){var B=new Object();var C=new Object();B["classid"]="CLSID:174012D5-4141-44D6-8F44-729BB97C56EB";B["codebase"]=this.codebase;B["width"]=this.width;B["height"]=this.height;B["id"]=this.id;C["AutoPlay"]="true";C["PlayMode"]="full";if(this.flurl&&typeof this.flurl==="object"){for(var D in this.flurl){if(D==="http"){continue}C[D]=this.flurl[D]}}return this.generatep2pobj(B,C)},this.showhtml5player=function(){var B=new Object();var C=new Object();B["width"]=this.width;B["height"]=this.height;B["id"]=this.id;B["controls"]="controls";B["preload"]="preload";B["autoplay"]="autoplay";if(this.mode==="live"){B["src"]=this.flurl.http.live}else{C["video/mp4"]=this.flurl.http.mp4;C["video/ogg"]=this.flurl.http.ogg;C["video/webm"]=this.flurl.http.webm}return this.generatehtml5obj(B,C)},this.write=function(){var B=this.playertype();if(B!=="html5"){if(this.player!=="auto"){B=this.player}else{if(B!=="p2p"&&this.mime!==""&&this.mime!=="flv"){B="p2p"}}}switch(B){case"html5":if(browser.versions.html5){document.write(this.showhtml5player())}else{document.write("<font color='red'>您的浏览器不支持HTML5，无法播放视频!</font>")}break;case"p2p":document.write(this.showp2player());break;case"flash":document.write(this.showflashplayer());break;default:document.write("error");break}},this.playertype=function(){if(browser.versions.mobile){return"html5"}else{if(browser.versions.trident){if(this.activeExist("VJ.VodClient.3")){return"p2p"}else{return"flash"}}else{return"flash"}}},this.activeExist=function(D){try{var B;B=new ActiveXObject(D);if(B){return true}else{return false}}catch(C){return false}}};